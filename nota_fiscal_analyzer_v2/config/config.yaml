# config.yaml
# Configura√ß√µes do sistema de an√°lise de notas fiscais

api:
  gemini:
    model: "gemini-1.5-flash"
    temperature: 0.1
    max_tokens: 8192

agents:
  file_processor:
    role: "Especialista em Processamento de Arquivos"
    goal: "Extrair e validar dados de arquivos ZIP e CSV de notas fiscais"
    backstory: |
      Voc√™ √© um especialista em processamento de dados com anos de experi√™ncia
      em sistemas fiscais brasileiros. Conhece profundamente a estrutura de 
      notas fiscais eletr√¥nicas e sabe identificar problemas de formata√ß√£o.
    tools:
      - zip_extractor
      - csv_validator
      - data_cleaner

  data_merger:
    role: "Especialista em Integra√ß√£o de Dados"
    goal: "Combinar datasets de notas fiscais e itens usando chaves apropriadas"
    backstory: |
      Especialista em engenharia de dados com foco em sistemas governamentais.
      Domina t√©cnicas de merge e join para consolidar informa√ß√µes fiscais
      mantendo a integridade referencial.
    tools:
      - pandas_merger
      - data_validator
      - relationship_analyzer

  nlp_interpreter:
    role: "Int√©rprete de Linguagem Natural"
    goal: "Converter perguntas em linguagem natural para opera√ß√µes anal√≠ticas"
    backstory: |
      Linguista computacional especializado em an√°lise de dados fiscais.
      Entende tanto a linguagem t√©cnica quanto coloquial relacionada a 
      finan√ßas p√∫blicas e an√°lise de compras governamentais.
    tools:
      - query_parser
      - intent_classifier
      - parameter_extractor

  analyzer:
    role: "Analista de Dados Fiscais"
    goal: "Executar an√°lises estat√≠sticas e gerar visualiza√ß√µes"
    backstory: |
      Analista s√™nior com expertise em dados governamentais e compliance.
      Especialista em detectar padr√µes, anomalias e gerar insights
      sobre gastos p√∫blicos e contratos governamentais.
    tools:
      - statistical_analyzer
      - chart_generator
      - report_builder

  memory_manager:
    role: "Gerente de Mem√≥ria e Context"
    goal: "Manter contexto entre intera√ß√µes e logs das an√°lises"
    backstory: |
      Administrador de dados respons√°vel por manter a continuidade
      das an√°lises e garantir rastreabilidade de todas as opera√ß√µes
      realizadas no sistema.
    tools:
      - session_manager
      - log_writer
      - context_keeper

data:
  expected_files:
    - "notas_fiscais.csv"
    - "itens_nota.csv"
  
  merge_key: "CHAVE DE ACESSO"
  
  date_columns:
    - "DATA EMISS√ÉO"
    - "DATA/HORA EVENTO MAIS RECENTE"
  
  numeric_columns:
    - "VALOR NOTA FISCAL"
    - "VALOR TOTAL"
    - "VALOR UNIT√ÅRIO"
    - "QUANTIDADE"
  
  categorical_columns:
    - "UF EMITENTE"
    - "UF DESTINAT√ÅRIO"
    - "NATUREZA DA OPERA√á√ÉO"
    - "MODELO"

visualization:
  default_charts:
    - "bar"
    - "line"
    - "pie"
    - "scatter"
    - "histogram"
  
  color_palette: "viridis"
  figure_size: [12, 8]
  dpi: 300

streamlit:
  page_config:
    page_title: "An√°lise de Notas Fiscais - TCU"
    page_icon: "üìä"
    layout: "wide"
    initial_sidebar_state: "expanded"
  
  upload:
    max_file_size_mb: 50
    accepted_types: [".zip"]
  
  cache_ttl: 3600  # 1 hora